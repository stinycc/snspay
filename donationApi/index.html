<!DOCTYPE html>
<html style='color:white; overflow:hidden; font-family:GmarketSansLight;'>
  <head>
    <link rel="shortcut icon" type="image/x-icon" href="/resources/images/favicon.ico">
    <title></title>
    <meta name='description' content="">
    <meta name='theme-color' content='#151515'>
    <meta name='viewport' content='width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0'> 
    <meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
  </head>
  <body style='overflow:hidden;'>
    <link href='/resources/master.css' rel='stylesheet' type='text/css'>
    <script src='/resources/master.js'></script>
    <input id='복사용' type='text' R='z-index:-5; font-size:10px; padding:0; margin:0;' style='position:absolute; opacity:0'>
    <div id='덮개프레임' style='position:absolute; z-index:2; pointer-events:none; overflow:hidden'>
      <div id='카카오덮개' R='width:h(100); height:h(100); min-width:w(100); min-height:w(100);' style='position:absolute; background:#f5bc00; transform:scale(0); pointer-events:auto;'></div>
      <div id='토스덮개' R='width:h(100); height:h(100); min-width:w(100); min-height:w(100);' style='position:absolute; background:#176ABD; transform:scale(0); pointer-events:auto;'></div>
      <div id='은행덮개' R='width:h(100); height:h(100); min-width:w(100); min-height:w(100);' style='position:absolute; background:#31343b; transform:scale(0); pointer-events:auto;'></div>
    </div>
    <div id='가로세로모드'>
      <div id='이미지박스' class='vertical' style='z-index:5; max-width:375px; max-height:365px;'>
        <div R='width:h(80); height:h(80); border-radius:70%;' style='background:rgba(0, 0, 0, 0.5); overflow:hidden;'>
          프로필 사진을<br />찾을 수 없습니다
          <img id='프사' class='full' style='object-fit:cover; position:absolute;'>
        </div>
        <div id='경고문자' class='vertical bottomCenterAlign' R='height:h(9); width:w(1); margin-top:h(5);' style='overflow:visible'>
          <img id='상태표시' R='height:h(95); width:h(155); margin-bottom:h(-4);' style='object-fit:contain;'>
          <span name='닉네임' R='height:h(100); font-size:h(90); font-family:payboocBold;' style='white-space:nowrap;'>[알수없음]</span>
          <img id='상태풍선' style='position:absolute; display:none; cursor:pointer; pointer-events:none;'>
        </div>
      </div>
      <div id='옵션박스' class='vertical' style='max-width:500px; max-height:435.5px;'>
        <div style='position:absolute; z-index:1;'>
          <div R='height:h(5);'></div>
          <img id='카카오' src='/resources/images/kakao.png' R='width:w(87); height:w(87/4.7); margin:h(1.25); border-radius:h(5);' style='cursor:pointer;'>
          <img id='토스' src='/resources/images/toss.png' R='width:w(87); height:w(87/4.7); margin:h(1.25); border-radius:h(5);' style='cursor:pointer;'>
          <img id='은행' src='/resources/images/bank.png' R='width:w(87); height:w(87/4.7); margin:h(1.25); border-radius:h(5);' style='cursor:pointer;'>
          <div class='bottomCenterAlign' R='height:h(15); font-size:w(4.1);'>
            <span style='cursor:pointer;' onclick='window.open("https://SNSpay.cc", "_blank")'><a>Powered by</a> <b>SNSpay.cc</b></span>
          </div>
        </div>
        <div id='카카오박스' style='display:none; position:absolute; z-index:3;'>
          <div class='bottomCenterAlign' R='height:h(100/8);'><b name='닉네임' R='font-size:h(45);'>[알수없음]</b><a R='font-size:h(40);'>님께</a></div>
          <div class='bottomCenterAlign' R='height:h(100/8);'><b name='송금액' R='font-size:h(45);'>[송금인이 직접 설정]</b><a R='font-size:h(40);'>원을</a></div>
          <div class='bottomCenterAlign' R='height:h(100/7);'><b id='카카오이동' class='button' R='font-size:h(50);' style='text-decoration:underline;'>카카오 송금합니다.</b></div>
        </div>
        <div id='토스박스' style='display:none; position:absolute; z-index:3;'>
          <div class='bottomCenterAlign' R='height:h(100/8);'><b name='닉네임' R='font-size:h(45);'>[알수없음]</b><a R='font-size:h(40);'>님께</a></div>
          <div class='bottomCenterAlign' R='height:h(100/8);'><b name='송금액' R='font-size:h(45);'>[송금인이 직접 설정]</b><a R='font-size:h(40);'>원을</a></div>
          <div class='bottomCenterAlign' R='height:h(100/7);'><b id='토스이동' class='button' R='font-size:h(50);' style='text-decoration:underline;'>토스 송금합니다.</b></div>
        </div>
        <div id='은행박스' style='display:none; position:absolute; z-index:3;'>
          <div R='height:h(40);'>
            <img id='은행1' src='/resources/images/bank/000.png' R='height:h(80); margin:w(3)'>
            <img id='은행2' src='/resources/images/bank/000.png' R='height:h(80); margin:w(3)'>
          </div>
          <div R='height:h(40);'>
            <img id='은행3' src='/resources/images/bank/000.png' R='height:h(80); margin:w(3)'>
            <img id='은행4' src='/resources/images/bank/000.png' R='height:h(80); margin:w(3)'>
          </div>
        </div>
      </div>
      <div id='버튼박스' class='button' style='max-height:65px; max-width:65px; color:white;'>
        <div id="닫기버튼" class='verticalShake' style='position:absolute; z-index:1; background:white; color:dimgray; border-radius:70%;'>
          <b R='font-size:w(45);'>↓</b>
        </div>
        <div id='카카오닫기' style='display:none; position:absolute; z-index:3;'><b R='font-size:w(30);' style='text-decoration:underline;'>취소</b></div>
        <div id='토스닫기' style='display:none; position:absolute; z-index:3;'><b R='font-size:w(30);' style='text-decoration:underline;'>취소</b></div>
        <div id='은행닫기' style='display:none; position:absolute; z-index:3;'><b R='font-size:w(30);' style='text-decoration:underline;'>취소</b></div>
      </div>
    </div>
    <script>
      if(getParameter('nic')){
          var nickName = document.getElementsByName('닉네임')
          for (i = 0; i < nickName.length; i++) {
              nickName[i].innerHTML = getParameter('nic')
          }
      }
      
      if(getParameter('app') == 'no'){
          상태 = 'warning'
          id('상태표시').src = '/resources/images/warning.svg'
          id('상태풍선').addEventListener('click', function() {
              window.open('https://open.kakao.com/o/spRmC1Rc')
          })
      } else {
          상태 = 'approved'
          id('상태표시').src = '/resources/images/approved.svg'
          id('상태풍선').addEventListener('click', function() {
              window.open(decodeURIComponent(getParameter('approved')))
          })
      }
      
      if(getParameter('pic')){
          id('프사').src = getParameter('pic')
      } else {
          id('프사').src = '//image.cnbcfm.com/api/v1/image/105992231-1561667465295gettyimages-521697453.jpeg'
      }
      
      if(sessionStorage.getItem('amount')){
          금액 = parseInt(sessionStorage.getItem('amount'))
          var amount = document.getElementsByName('송금액')
          for (i = 0; i < amount.length; i++) {
              amount[i].innerHTML = numberWithCommas(금액)
          }
          function numberWithCommas(x) {
              return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
          }
      } else {
          금액 = 0
      }
      if (금액 == 0){
          복사용금액 = ''
      } else {
          복사용금액 = numberWithCommas(금액) + '원/'
      }
      
      if(getParameter('kak')){
          var 아이디 = '0'.repeat(15 - String(parseInt(getParameter('kak'), 32)).length) + String(parseInt(getParameter('kak'), 32))
          id('카카오이동').addEventListener('click', function() {
              ifNoApp(function(){alert('카카오톡 앱이 깔려있지 않거나 열 수 없는 환경에서 접속하셨습니다. 다른 송금 방식을 선택해주세요.')})
              location.href = 'kakaotalk://kakaopay/money/to/qr?qr_code=281006011' + 아이디 + (금액*8).toString(16) + 'Eedo'
          })
      } else {
          id('카카오이동').addEventListener('click', function() {
              alert('😢 수신인이 카카오 송금을 사용하지 않도록 설정했습니다. 토스 송금이나 은행 계좌번호를 이용해주세요.')
              elementFadeOut('카카오닫기')
              elementFadeOut('카카오박스')
              animation('카카오덮개', 'scaleIn 1s cubic-bezier(.1,.7,.5,.5) reverse both')
          })
      }
      
      var bankName = {'002':'산업', '003':'기업', '004':'국민', '007':'수협', '011':'농협', '020':'우리', '023':'제일', '027':'씨티', '031':'대구', '032':'부산', '034':'광주', '035':'제주', '037':'전북', '039':'경남', '045':'새마을', '048':'신협', '050':'저축은행', '054':'HSBC', '055':'도이치', '057':'JP모간', '060':'BOA', '061':'BNP파리바', '062':'중국공상', '064':'산림조합', '067':'중국건설', '071':'우체국', '081':'하나', '088':'신한', '089':'케이뱅크', '090':'카카오뱅크'}
      if(getParameter('1')){
          var bank1 = getParameter('1').split('.')
          
          id('토스이동').addEventListener('click', function() {
              ifNoApp(function(){alert('토스 앱이 깔려있지 않거나 열 수 없는 환경에서 접속하셨습니다. 다른 송금 방식을 선택해주세요.')});
              location.href = 'intent://send?title=송금&bankCode=' + bank1[0] + '&accountNo=' + bank1[1] + '&amount=' + 금액 + '#Intent;scheme=supertoss;package=viva.republica.toss;end'
          })
        
          id('은행1').src = '/resources/images/bank/' + bank1[0] + '.png'
          id('은행1').className = 'button'
          id('은행1').addEventListener('click', function() {
              id('복사용').value = bankName[bank1[0]] + ": " + bank1[1] + " " + "(" + 복사용금액 + bank1[2] + ")"
              id('복사용').select()
              document.execCommand("copy");
              id('복사용').blur()
              alert("'" + bankName[bank1[0]] + ": " + bank1[1] + " " + "(" + 복사용금액 + bank1[2] + ")'이 복사되었습니다.")
          })
      }
      if(getParameter('2')){
          var bank2 = getParameter('2').split('.')
          id('은행2').src = '/resources/images/bank/' + bank2[0] + '.png'
          id('은행2').className = 'button'
          id('은행2').addEventListener('click', function() {
              id('복사용').value = bankName[bank2[0]] + ": " + bank2[1] + " " + "(" + 복사용금액 + bank2[2] + ")"
              id('복사용').select()
              document.execCommand("copy");
              id('복사용').blur()
              alert("'" + bankName[bank2[0]] + ": " + bank2[1] + " " + "(" + 복사용금액 + bank2[2] + ")'이 복사되었습니다.")
          })
      }
      if(getParameter('3')){
          var bank3 = getParameter('3').split('.')
          id('은행3').src = '/resources/images/bank/' + bank3[0] + '.png'
          id('은행3').className = 'button'
          id('은행3').addEventListener('click', function() {
              id('복사용').value = bankName[bank3[0]] + ": " + bank3[1] + " " + "(" + 복사용금액 + bank3[2] + ")"
              id('복사용').select()
              document.execCommand("copy");
              id('복사용').blur()
              alert("'" + bankName[bank3[0]] + ": " + bank3[1] + " " + "(" + 복사용금액 + bank3[2] + ")'이 복사되었습니다.")
          })
      }
      if(getParameter('4')){
          var bank4 = getParameter('4').split('.')
          id('은행4').src = '/resources/images/bank/' + bank4[0] + '.png'
          id('은행4').className = 'button'
          id('은행4').addEventListener('click', function() {
              id('복사용').value = bankName[bank4[0]] + ": " + bank4[1] + " " + "(" + 복사용금액 + bank4[2] + ")"
              id('복사용').select()
              document.execCommand("copy");
              id('복사용').blur()
              alert("'" + bankName[bank4[0]] + ": " + bank4[1] + " " + "(" + 복사용금액 + bank4[2] + ")'이 복사되었습니다.")
          })
      }
      f가로세로()
      window.addEventListener("resize", function() {
          f가로세로()
      })
      function f가로세로(){
          if(window.innerWidth < window.innerHeight || window.innerHeight > 500){
              id('가로세로모드').className = 'vertical full noDrag'
              id('이미지박스').setAttribute('R', 'width:h(35); height:h(32.5); margin:0;')
              id('옵션박스').setAttribute('R', 'width:h(46.875); height:h(42.5); border-radius:h(2);')
              id('버튼박스').setAttribute('R', 'width:h(7); height:h(7); margin:h(3) 0 0 0;')
              id('덮개프레임').setAttribute('R', 'width:h(100/16*10); height:h(100);')
              id('상태풍선').style.bottom = ''
              id('상태풍선').setAttribute('R', 'height:h(175); top:h(100);')
              id('상태풍선').src = '/resources/images/' + 상태 + 'DescriptionTop.png'
          }else{
              id('가로세로모드').className = 'full noDrag'
              id('이미지박스').setAttribute('R', 'width:w(32); height:w(32); margin:0 0 0 w(3);')
              id('옵션박스').setAttribute('R', 'width:w(42.5); height:w(42.5*4/5); border-radius:w(2);')
              id('버튼박스').setAttribute('R', 'width:w(7); height:w(7); margin:0 0 0 w(3);')
              id('덮개프레임').setAttribute('R', 'width:w(100); height:h(100);')
              id('상태풍선').style.top = ''
              id('상태풍선').setAttribute('R', 'height:h(175); bottom:h(100);')
              id('상태풍선').src = '/resources/images/' + 상태 + 'DescriptionBottom.png'
          }
          resizeResponsiveElements()
      }
      
      touchscreen = false
      window.addEventListener("touchstart", function() {
          touchscreen = true
      })
      id('경고문자').addEventListener("mouseover", function() {
          id('상태풍선').style.display = 'block'
          if(touchscreen){
              setTimeout(function(){
                  id('상태풍선').style.pointerEvents = 'auto'
              },500)
          } else {
              id('상태풍선').style.pointerEvents = 'auto'
          }
      })
      id('경고문자').addEventListener("mouseout", function() {
          id('상태풍선').style.display = 'none'
          if(touchscreen){
              setTimeout(function(){
                  id('상태풍선').style.pointerEvents = 'none'
              },500)
          } else {
              id('상태풍선').style.pointerEvents = 'none'
          }
      })

      id('카카오').addEventListener("click", function() {
          animation('카카오덮개', 'scaleIn 1s cubic-bezier(.1,.7,.5,.5) both')
          setTimeout(function(){
              elementFadeIn('카카오박스')
          },750)
          setTimeout(function(){
              elementFadeIn('카카오닫기')
          },1250)
      })
      id('카카오닫기').addEventListener("click", function() {
          elementFadeOut('카카오닫기')
          elementFadeOut('카카오박스')
          animation('카카오덮개', 'scaleIn 1s cubic-bezier(.1,.7,.5,.5) reverse both')
      })
      id('토스').addEventListener("click", function() {
          animation('토스덮개', 'scaleIn 1s cubic-bezier(.1,.7,.5,.5) both')
          setTimeout(function(){
              elementFadeIn('토스박스')
          },750)
          setTimeout(function(){
              elementFadeIn('토스닫기')
          },1250)
      })
      id('토스닫기').addEventListener("click", function() {
          elementFadeOut('토스닫기')
          elementFadeOut('토스박스')
          animation('토스덮개', 'scaleIn 1s cubic-bezier(.1,.7,.5,.5) reverse both')
      })
      id('은행').addEventListener("click", function() {
          animation('은행덮개', 'scaleIn 1s cubic-bezier(.1,.7,.5,.5) both')
          setTimeout(function(){
              elementFadeIn('은행박스')
          },750)
          setTimeout(function(){
              elementFadeIn('은행닫기')
          },1250)
      })
      id('은행닫기').addEventListener("click", function() {
          elementFadeOut('은행닫기')
          elementFadeOut('은행박스')
          animation('은행덮개', 'scaleIn 1s cubic-bezier(.1,.7,.5,.5) reverse both')
      })
      id('닫기버튼').addEventListener('click',function(){
          window.parent.postMessage('pageOut()', '*');
      })
    </script>
  </body>
  <footer>
  </footer>
  <style>
    .verticalShake {
      animation: verticalShake 2s cubic-bezier(0.455, 0.030, 0.515, 0.955) infinite both;
    }
    @keyframes verticalShake {
      0%, 100% {
        transform: translateY(7.5%);
      }
      50%{
        transform: translateY(-7.5%);
      }
    }
    @keyframes scaleIn {
      0% {
        transform: scale(0);
        opacity: 0.5;
        border-radius:70%;
      }
      100% {
        transform: scale(1.7);
        opacity: 1;
        border-radius:70%;
      }
    }
    @font-face {
      font-family: 'payboocBold';
      src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_20-07@1.0/paybooc-Bold.woff') format('woff');
      font-weight: normal;
      font-style: normal;
    }
    @font-face {
      font-family: 'GmarketSansLight';
      src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.1/GmarketSansLight.woff') format('woff');
      font-weight: normal;
      font-style: normal;
      transform: translateY(100%);
    }
  </style>
</html>
